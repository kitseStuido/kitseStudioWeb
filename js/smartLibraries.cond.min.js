/*!
* Date: 2022-03-20
* Includes all of the following: smartIntersection_v1.0.0.js, smartResize_v1.1.0.js, smartTimer_v2.1.0.js, smartUtils_v1.0.7.js, smartStepAnimation_v1.4.1.js
**/
"use strict";function SmartIntersection(a){return this._target,this._observer,this._callback,this._options,this.getObserver=function(){return this._observer},this._init=function(){return a&&a.callback?detectIE()?(console.error("[SmartIntersection] -> Internet Explorer no soporta Intersection Observer, cambia de navegador para poder visualizar correctamente la pieza."),!1):void(this._setCallback(a.callback||null),this._setTarget(a.target||null),this._setOptions(a.options||null),this._setObserver()):(console.error("[SmartIntersection] -> No se han pasado los par\xE1metros necesarios en el constructor. Es necesario definir un objecto literal con las propiedades callback y target. Ej.: {callback: function(){console.log(\"update\")}, target: document.getElementById(\"myTarget\") }"),!1)},this._setObserver=function(){this._observer=new IntersectionObserver(this._callback,this._options),this._observer.observe(this._target)},this._setTarget=function(a){this._target=a||document.documentElement},this._setCallback=function(a){return a&&isFunction(a)?void(this._callback=a):(console.error("[SmartIntersection] -> No se ha definido un callback o no es una funci\xF3n."),!1)},this._setOptions=function(a){this._options={root:a&&a.root?a.root:null,rootMargin:a&&a.rootMargin?a.rootMargin:"0px",threshold:a&&a.threshold?a.threshold:0}},this._init(),{getObserver:this.getObserver.bind(this)}}"use strict";function SmartResize(props){return this._props=props,this._isReady=!1,this._sizesToFit=[],this._arrTargetsContainerResized=[],this._ratio=1,this._fitWidth=!1,this._fitHeight=!1,this._alignHorizontal="",this._alignVertical="",this._arrFitElements=[],this.getRatio=function(){return this._ratio},this.getFit=function(){return{width:this._fitWidth,height:this._fitHeight,horizontal:this._alignHorizontal,vertical:this._alignVertical}},this.getAll=function(){return{ratio:this._ratio,width:this._fitWidth,height:this._fitHeight,horizontal:this._alignHorizontal,vertical:this._alignVertical}},this.fit=function(a,b,c,d){var e={target:a,reference:b,fitTo:c,growFrom:d,arrTargets:[]},f=collectionOfElementsToArray(document.querySelectorAll(a));f.map(function(a){var b=a.getBoundingClientRect(),c=this._getParentResized(a).getBoundingClientRect(),d=this._normalizeOut(b.top-c.top),f=this._normalizeOut(b.left-c.left),g=this._normalizeOut(b.width),h=this._normalizeOut(b.height);e.arrTargets.push({target:a,initialTop:d,initialLeft:f,initialHeight:h,initialWidth:g,initialParentResizeBounds:c,initialBounds:b})}.bind(this)),this._arrFitElements.push(e),this._fitElements()},this.fitWidth=function(a,b,c){this.fit(a,b,"width",c)},this.fitHeight=function(a,b,c){this.fit(a,b,"height",c)},this.setAlign=function(){},this.forceUpdateResize=function(){this._setResize()},this.debugger=function(){this._guiElement||(this._guiElement=document.createElement("DIV"),this._ratioElement=document.createElement("P"),this._fitWidthElement=document.createElement("P"),this._fitHeightElement=document.createElement("P"),this._alignVerticalElement=document.createElement("P"),this._alignHorizontalElement=document.createElement("P"),this._guiElement.classList.add("smart-resize-gui"),this._guiElement.style.position="fixed",this._guiElement.style.opacity=1,this._guiElement.style.fontFamily="helvetica, arial",this._guiElement.style.textAlign="left",this._guiElement.style.padding="5px",this._guiElement.style.right="0",this._guiElement.style.bottom="0",this._guiElement.style.color="white",this._guiElement.style.backgroundColor="rgba(0,0,0,0.3)",this._guiElement.style.border="3px solid lime",this._guiElement.appendChild(this._ratioElement),this._guiElement.appendChild(this._fitWidthElement),this._guiElement.appendChild(this._fitHeightElement),this._guiElement.appendChild(this._alignVerticalElement),this._guiElement.appendChild(this._alignHorizontalElement),this._arrTargetsContainerResized.map(function(a){a.appendChild(this._guiElement)}.bind(this))),this._ratioElement.innerHTML="Ratio: <span>"+this._ratio+"</span>",this._fitWidthElement.innerHTML="FitWidth: <span>"+this._fitWidth+"</span>",this._fitHeightElement.innerHTML="FitHeight: <span>"+this._fitHeight+"</span>",this._alignVerticalElement.innerHTML="Align Vertical: <span>"+this._alignVertical+"</span>",this._alignHorizontalElement.innerHTML="Align Horizontal: <span>"+this._alignHorizontal+"</span>"},this.stop=function(){this._stop()},this._detectErrors=function(){},this._resize=function(a,b,c,d){var e=parseInt(getComputedStyle(a.parentElement,null).width),f=parseInt(getComputedStyle(a.parentElement,null).height),g=1,h=1,i=1;if(h=e/b,i=f/c,a.style.position="absolute",a.style.width=b+"px",a.style.height=c+"px",h<i)switch(g=h,this._fitWidth=!0,this._fitHeight=!1,d.vertical){case"center":a.style.top="50%",a.style.bottom="auto",a.style.left="0",a.style.right="auto",this._setTransform(a,"scale("+h+") translateY(-"+50/h+"%)"),this._setTransformOrigin(a,"left center");break;case"top":a.style.top="0",a.style.bottom="auto",a.style.left="0",a.style.right="auto",this._setTransform(a,"scale("+h+")"),this._setTransformOrigin(a,"left top");break;case"bottom":a.style.top="auto",a.style.bottom="0",a.style.left="0",a.style.right="auto",this._setTransform(a,"scale("+h+")"),this._setTransformOrigin(a,"left bottom");}else switch(this._fitWidth=!1,this._fitHeight=!0,g=i,d.horizontal){case"center":a.style.top="0",a.style.bottom="auto",a.style.right="auto",a.style.left="50%",this._setTransform(a,"scale("+i+") translateX(-"+50/i+"%)"),this._setTransformOrigin(a,"center top");break;case"left":a.style.top="0",a.style.bottom="auto",a.style.right="auto",a.style.left="0",this._setTransform(a,"scale("+i+")"),this._setTransformOrigin(a,"left top");break;case"right":a.style.top="0",a.style.bottom="auto",a.style.right="0",a.style.left="auto",this._setTransform(a,"scale("+i+")"),this._setTransformOrigin(a,"right top");}return g},this._setTransform=function(a,b){a.style.WebkitTransform=b,a.style.msTransform=b,a.style.transform=b},this._setTransformOrigin=function(a,b){a.style.WebkitTransformOrigin=b,a.style.msTransformOrigin=b,a.style.transformOrigin=b},this._setResize=function(){var a=[];this._arrTargetsContainerResized.map(function(b){b.classList.add("smart-resize-container"),this._sizesToFit.map(function(c){var d=[];if(c.addClass&&(d=c.addClass.split(" ")),this._parseCondition(c.condition)){a=d,a.map(function(a){b.classList.add(a)}.bind(this));var e=this._parseAlign(c.align);this._ratio=this._resize(b,c.width,c.height,e),this._alignHorizontal=e.horizontal,this._alignVertical=e.vertical}else if(0<a.length){var f=d.filter(function(b){return-1==a.indexOf(b)});f.map(function(a){b.classList.remove(a)})}else d.map(function(a){b.classList.remove(a)})}.bind(this))}.bind(this)),this._isReady=!0},this._parseAlign=function(a){var b={};return a?(b.vertical=a.vertical||"center",b.horizontal=a.horizontal||"center"):b={vertical:"center",horizontal:"center"},b},this._parseCondition=function(condition){return void 0===condition||("string"==typeof condition?eval(condition):isFunction(condition)?condition():void 0)},this._getSizeFrom=function(a,b){var c=0;return c=isNaN(a)?document.querySelectorAll(a)[0].getBoundingClientRect()[b]:a,c},this._getBounds=function(a){var b;return b="string"==typeof a?document.querySelectorAll(a)[0]:a,b.getBoundingClientRect()},this._normalizeOut=function(a){return a/this._ratio},this._normalizeIn=function(a){return a*this._ratio},this._fitElements=function(){this._arrFitElements.map(function(a){a.arrTargets.map(function(b){var c=findAncestor(b.target,a.reference),d=this._getBounds(c),e=this._getSizeFrom(a.reference,a.fitTo),f=this._normalizeOut(e);b.target.style[a.fitTo]=f+"px";var g=this._getParentResized(b.target),h=g.getBoundingClientRect(),i=f/b.initialBounds[a.fitTo];if("width"===a.fitTo){var j=this._normalizeOut(d.left-h.left);if(b.target.style.left=j+"px",a.growFrom){var k=b.initialBounds.height*i;b.target.style.height=k+"px";var l=b.initialTop,m=b.initialHeight-k;switch(a.growFrom){case"bottom":l+=1*m;break;case"center":l+=.5*m;}b.target.style.top=l+"px"}}else{var j=this._normalizeOut(d.top-h.top);if(b.target.style.top=j+"px",a.growFrom){var n=b.initialBounds.width*i;b.target.style.width=n+"px";var o=b.initialLeft,m=b.initialWidth-n;switch(a.growFrom){case"right":o+=1*m;break;case"center":o+=.5*m;}b.target.style.left=o+"px"}}}.bind(this))}.bind(this))},this._getParentResized=function(a){return findAncestor(a,".smart-resize-container")},this._populateData=function(){this._props.target&&0<this._props.sizesToFit.length&&(this._arrTargetsContainerResized=collectionOfElementsToArray(document.querySelectorAll(this._props.target)),this._sizesToFit=this._props.sizesToFit)},this._init=function(){this._detectErrors(),this._populateData(),this._setResize()},this._stop=function(){window.removeEventListener("resize",this._onResizeBinded)},this._onResize=function(){this._isReady&&(this._setResize(),this._guiElement&&this.debugger(),0<this._arrFitElements.length&&this._fitElements())},window.addEventListener("resize",this._onResizeBinded=this._onResize.bind(this)),this._init(),{getRatio:this.getRatio.bind(this),getFit:this.getFit.bind(this),getAll:this.getAll.bind(this),fit:this.fit.bind(this),fitWidth:this.fitWidth.bind(this),fitHeight:this.fitHeight.bind(this),setAlign:this.setAlign.bind(this),forceUpdateResize:this.forceUpdateResize.bind(this),debugger:this.debugger.bind(this),stop:this.stop.bind(this)}}"use strict";function SmartTimer(a,b,c){return this._timerId=void 0,this._intervalId=void 0,this._time=void 0,this._props=void 0,this._onTimerEnd=void 0,this._currentSecond=0,this._looped=0,this._removeTimer=function(a){clearTimeout(a)},this._removeInterval=function(a){clearInterval(a)},this._setTimer=function(a,b){return setTimeout(a,b)},this._setIntervalUpdate=function(){if(this._props&&this._props.onSecondUpdate&&isFunction(this._props.onSecondUpdate))return setInterval(function(){this._currentSecond++,this._props.onSecondUpdate({looped:this._looped,currentSecond:this._currentSecond,timeLeft:this._time-this._currentSecond})}.bind(this),1e3)},this._stopTimer=function(){this._timerId&&(this._removeTimer(this._timerId),this._props&&this._props.onTimerStop&&(isFunction(this._props.onTimerStop)?this._props.onTimerStop({looped:this._looped}):console.log("[smartTimer.js] El valor definido para onTimerStop debe ser una funci\xF3n.")))},this._stopIntervalUpdate=function(){this._intervalId&&this._removeInterval(this._intervalId)},this._populateWithData=function(){this._time=a,this._props=c,this._onTimerEnd=b},this._init=function(){this._detectErrors()&&this._populateWithData()},this._detectErrors=function(){return a||b?b?isFunction(b)?void 0===a?(console.log("[smartTimer.js] El valor definido para el primer argumento no existe y es requerido."),!1):"number"==typeof a?!(0>=a)||(console.log("[smartTimer.js] El valor definido para el primer argumento debe ser mayor que 0."),!1):(console.log("[smartTimer.js] El valor definido para el primer argumento debe ser un n\xFAmero."),!1):(console.log("[smartTimer.js] El valor definido para el segundo argumento debe ser una funci\xF3n."),!1):(console.log("[smartTimer.js] El valor definido para el segundo argumento no existe y es requerido."),!1):(console.log("[smartTimer.js] No se han definido los p\xE1rametros de entrada adecuados."),console.log("[smartTimer.js] Ejemplo de uso: smartTimer(7, function() { console.log('onTimerEnd'); } });"),!1)},this._stop=function(){this._stopTimer(),this._stopIntervalUpdate(),this._currentSecond=0},this._start=function(){this._stop(),this._props&&this._props.onTimerStart&&(isFunction(this._props.onTimerStart)?this._props.onTimerStart({looped:this._looped}):console.log("[smartTimer.js] El valor definido para onTimerStart debe ser una funci\xF3n.")),this._timerId=this._setTimer(function(){this._looped++,this._stopIntervalUpdate(),this._onTimerEnd({looped:this._looped})}.bind(this),1e3*this._time),this._intervalId=this._setIntervalUpdate()},this.start=function(){this._start()},this.stop=function(){this._stop()},this._init(),this}"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function killChildTweensOf(a){TweenMax?TweenMax.killChildTweensOf(a):console.log("[smartUtils] killChildTweensOf -> Necesitas tener instalado previamente TweenMax para poder usar esta funci\xF3n")}function killAllChildTweensOf(a){if(TweenMax){var b=getAllChildToAnArray(a);b.map(function(a){TweenMax.killTweensOf(a)})}else console.log("[smartUtils] killAllChildTweensOf -> Necesitas tener instalado previamente TweenMax para poder usar esta funci\xF3n")}function isFunction(a){return a&&"[object Function]"==={}.toString.call(a)}function rand(a,b){return Math.floor(Math.random()*(b-a+1)+a)}function ruleOf3(d,a,b){return a*b/d}function findAncestor(a,b){if(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(a){for(var b=(this.document||this.ownerDocument).querySelectorAll(a),c=b.length;0<=--c&&b.item(c)!==this;);return-1<c}),a.matches(b))return a;do a=a.parentElement;while(!a.matches(b));return a}function getAllChildToAnArray(a){var b=document.querySelectorAll(a+" *");return collectionOfElementsToArray(b)}function collectionOfElementsToArray(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function shuffle(b){var a,c,d;for(d=b.length-1;0<d;d--)a=Math.floor(Math.random()*(d+1)),c=b[d],b[d]=b[a],b[a]=c;return b}function debounce(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d;clearTimeout(d),d=setTimeout(function later(){d=null,c||a.apply(e,f)},b),g&&a.apply(e,f)}}function detectIE(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);var c=a.indexOf("Trident/");if(0<c){var d=a.indexOf("rv:");return parseInt(a.substring(d+3,a.indexOf(".",d)),10)}var e=a.indexOf("Edge/");return!!(0<e)&&parseInt(a.substring(e+5,a.indexOf(".",e)),10)}function detectIOS(){return!(!/iPad|iPhone|iPod/.test(navigator.userAgent)||window.MSStream)&&(window.indexedDB?"iOS 8 and up":window.SpeechSynthesisUtterance?"iOS 7":window.webkitAudioContext?"iOS 6":window.matchMedia?"iOS 5":!!window.history&&"pushState"in window.history?"iOS 4":"iOS 3 or earlier")}function isMobile(){return[/Android/i,/webOS/i,/iPhone/i,/iPad/i,/iPod/i,/BlackBerry/i,/Windows Phone/i].some(function(a){return navigator.userAgent.match(a)})}function isNode(a){return"object"===("undefined"==typeof Node?"undefined":_typeof(Node))?a instanceof Node:a&&"object"===_typeof(a)&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName}function isElement(a){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?a instanceof HTMLElement:a&&"object"===_typeof(a)&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName}"use strict";function SmartStepAnimation(){return this._steps=[],this._currentActiveStepName=null,this._lastActiveStepName=null,this._nextActiveStepName=null,this._onShow=null,this._onHide=null,this._onNext=null,this._onPrev=null,this.add=function(a){a.initialState&&isFunction(a.initialState)&&a.initialState(),this._steps.push(a)},this.show=function(a,b){var c=this._getStepsBy("name",a);"active"!==c[0].state&&(this._nextActiveStepName=c[0].name,this.hide(),c.map(function(a){"active"!==a.state&&(this._setState(a,"active"),this._currentActiveStepName=this.getActiveStepName(),this._nextActiveStepName=null,TweenMax.killTweensOf(document.querySelectorAll(a.selector)),a.show(b),this._onShow&&this._onShow.call(a,a,this.getStepIndexByName(a.name)))}.bind(this)))},this.hide=function(a,b){var c;c=a?this._getStepsBy("name",a):this._getStepsBy("state","active"),c&&(this._lastActiveStepName=this.getActiveStepName(),c.map(function(a){"unactive"!==a.state&&(this._setState(a,"unactive"),this._currentActiveStepName=null,TweenMax.killTweensOf(document.querySelectorAll(a.selector)),a.hide(b),this._onHide&&this._onHide.call(a,a,this.getStepIndexByName(a.name)))}.bind(this)))},this.showRandom=function(a){var b=this._getRandomStep("state","active");this.show(b.name,a)},this.showNext=function(a){var b=this._getNextStep();this.show(b.name,a),this._onNext&&this._onNext.call(this._getStepsBy("name",this._currentActiveStepName)[0],this._getStepsBy("name",this._lastActiveStepName)[0],this._getStepsBy("name",this._currentActiveStepName)[0],this.getStepIndexByName(this._currentActiveStepName))},this.showPrev=function(a){var b=this._getPrevStep();this.show(b.name,a),this._onPrev&&this._onPrev.call(this._getStepsBy("name",this._currentActiveStepName)[0],this._getStepsBy("name",this._lastActiveStepName)[0],this._getStepsBy("name",this._currentActiveStepName)[0],this.getStepIndexByName(this._currentActiveStepName))},this.getActiveStepName=function(){return this._getStepsBy("state","active")[0]?this._getStepsBy("state","active")[0].name:null},this.getActiveStepIndex=function(){return this._getActiveStepIndex()},this.getSteps=function(){return this._steps},this.getActiveStepsActivity=function(){return{lastActiveStepName:this._lastActiveStepName,nextActiveStepName:this._nextActiveStepName,currentActiveStepName:this._currentActiveStepName,lastActiveStepIndex:this.getStepIndexByName(this._lastActiveStepName),nextActiveStepIndex:this.getStepIndexByName(this._nextActiveStepName),currentActiveStepIndex:this.getStepIndexByName(this._currentActiveStepName)}},this.getStepIndexByName=function(a){if(!a)return null;for(var b=0;b<this._steps.length;b++)if(this._steps[b].name===a)return b},this.onShow=function(a){this._onShow=a},this.onHide=function(a){this._onHide=a},this.onNext=function(a){this._onNext=a},this.onPrev=function(a){this._onPrev=a},this.offShow=function(){this._onShow=null},this.offHide=function(){this._onHide=null},this.offNext=function(){this._onNext=null},this.offPrev=function(){this._onPrev=null},this._getStepsBy=function(a,b){return this._steps.filter(function(c){return c[a]===b})},this._setState=function(a,b){a.state=b},this._getRandomStep=function(a,b){var c=this._steps[rand(0,this._steps.length-1)];return a&&b&&c[a]===b?this._getRandomStep(a,b):c},this._getNextStep=function(){var a=this._getActiveStepIndex(),b=a+1;return"null"===b?b=1:b>=this._steps.length&&(b=0),this._steps[b]},this._getPrevStep=function(){var a=this._getActiveStepIndex(),b=a-1;return("null"===b||-1>=b)&&(b=this._steps.length-1),this._steps[b]},this._getActiveStepIndex=function(){for(var a=null,b=0;b<this._steps.length;b++)if("active"===this._steps[b].state){a=b;break}return a},{add:this.add.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),showRandom:this.showRandom.bind(this),showNext:this.showNext.bind(this),showPrev:this.showPrev.bind(this),getStepIndexByName:this.getStepIndexByName.bind(this),getActiveStepsActivity:this.getActiveStepsActivity.bind(this),getActiveStepName:this.getActiveStepName.bind(this),getActiveStepIndex:this.getActiveStepIndex.bind(this),getSteps:this.getSteps.bind(this),onShow:this.onShow.bind(this),onHide:this.onHide.bind(this),onNext:this.onNext.bind(this),onPrev:this.onPrev.bind(this),offShow:this.offShow.bind(this),offHide:this.offHide.bind(this),offNext:this.offNext.bind(this),offPrev:this.offPrev.bind(this)}}